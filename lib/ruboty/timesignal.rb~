module Ruboty
  module TimeSignal
    class TimeSignal < Base
    def timer
      now = Time.now
      alert_time = now.hour + 1
      alert_time = alert_time.modulo(24)
      min = 60 - now.min
      sec = 60 - now.sec
      while min > 0 do
        sleep 60
	min -= 1
      end
      while min = 0 && sec > 0 do
        sleep 1
	sec -= 1
      end
    end

      loop {
        now = Time.now
        if now.sec == 0 && now.min == 0
          SlackBot.notify (
	    body: "It's #{now.hour} o'clock now !"
	  )
      	end
      }
    end
  end
end